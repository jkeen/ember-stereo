{"version":3,"file":"seek-sound.js","sources":["../../src/helpers/seek-sound.js"],"sourcesContent":["import StereoBaseActionHelper from '../-private/helpers/action-helper';\n\n/**\n  A helper to seek a sound\n  ```hbs\n    <button {{on 'click' (seek-sound @identifier 15000)}}>\n      Jump ahead 15s\n    </button>\n  ```\n  @class {{seek-sound}}\n  @type {Helper}\n  @param {String} url\n  @param {String} position\n  */\nexport default class SeekSound extends StereoBaseActionHelper {\n  /**\n    @method compute\n    @param {Any} identifier url, urls, url objects, promise that resolves to a url\n    @param {Integer} position\n    @param {String} unit? 'percentage' or 'seconds', defaults to 'percentage'\n    @return {Function}\n  */\n\n  performAction(sound, eventOrItem) {\n    if (sound) {\n      let unit = this.options.unit || 'percentage';\n      let value =\n        this.options.position === undefined\n          ? eventOrItem\n          : this.options.position;\n\n      if (eventOrItem && eventOrItem.target?.type == 'range') {\n        value = eventOrItem?.target?.value;\n        unit = 'percentage';\n      }\n\n      if (unit == 'percentage') {\n        // this is a percentage\n        let newPosition = (parseFloat(value, 10) / 100) * sound.duration;\n        return (sound.position = newPosition);\n      } else if (unit == 'seconds') {\n        return (sound.position = parseFloat(value, 10) * 1000);\n      }\n    } else {\n      return false;\n    }\n  }\n}\n"],"names":["SeekSound","StereoBaseActionHelper","performAction","sound","eventOrItem","unit","options","value","position","undefined","target","type","newPosition","parseFloat","duration"],"mappings":";;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,MAAMA,SAAS,SAASC,YAAsB,CAAC;AAC5D;AACF;AACA;AACA;AACA;AACA;AACA;;AAEEC,EAAAA,aAAaA,CAACC,KAAK,EAAEC,WAAW,EAAE;AAChC,IAAA,IAAID,KAAK,EAAE;MACT,IAAIE,IAAI,GAAG,IAAI,CAACC,OAAO,CAACD,IAAI,IAAI,YAAY,CAAA;AAC5C,MAAA,IAAIE,KAAK,GACP,IAAI,CAACD,OAAO,CAACE,QAAQ,KAAKC,SAAS,GAC/BL,WAAW,GACX,IAAI,CAACE,OAAO,CAACE,QAAQ,CAAA;MAE3B,IAAIJ,WAAW,IAAIA,WAAW,CAACM,MAAM,EAAEC,IAAI,IAAI,OAAO,EAAE;AACtDJ,QAAAA,KAAK,GAAGH,WAAW,EAAEM,MAAM,EAAEH,KAAK,CAAA;AAClCF,QAAAA,IAAI,GAAG,YAAY,CAAA;AACrB,OAAA;MAEA,IAAIA,IAAI,IAAI,YAAY,EAAE;AACxB;AACA,QAAA,IAAIO,WAAW,GAAIC,UAAU,CAACN,KAAK,EAAE,EAAE,CAAC,GAAG,GAAG,GAAIJ,KAAK,CAACW,QAAQ,CAAA;AAChE,QAAA,OAAQX,KAAK,CAACK,QAAQ,GAAGI,WAAW,CAAA;AACtC,OAAC,MAAM,IAAIP,IAAI,IAAI,SAAS,EAAE;QAC5B,OAAQF,KAAK,CAACK,QAAQ,GAAGK,UAAU,CAACN,KAAK,EAAE,EAAE,CAAC,GAAG,IAAI,CAAA;AACvD,OAAA;AACF,KAAC,MAAM;AACL,MAAA,OAAO,KAAK,CAAA;AACd,KAAA;AACF,GAAA;AACF;;;;"}