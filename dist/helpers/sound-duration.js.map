{"version":3,"file":"sound-duration.js","sources":["../../src/helpers/sound-duration.js"],"sourcesContent":["import { numericDuration } from './numeric-duration';\nimport debugMessage from '../-private/utils/debug-message';\nimport StereoBaseIsHelper from '../-private/helpers/is-helper';\n\n/**\n  A helper to get a sound's duration in milliseconds.\n  ```hbs\n   <p>Duration of loaded sound is {{sound-duration @identifier}}ms</p>\n   <p>Duration of loaded sound in h:mm:ss {{sound-duration identifier format=time}}</p>\n   <p>Duration of sound that this helper just tried to load in h:mm:ss {{sound-duration identifier format=time load=true}}</p>\n   ```\n  @class {{sound-duration}}\n  @type {Helper}\n  */\n\n/**\n  @method compute\n  @param {Any} identifier url, urls, url objects, promise that resolves to a url\n  @param {String} format? time, ms,\n  @param {String} defaultValue? time when duration is unknown\n  @param {Boolean} load? load the sound if it's not loaded?\n  @return {any}\n*/\nexport default class SoundDuration extends StereoBaseIsHelper {\n  name = 'sound-duration';\n\n  get result() {\n    let { defaultValue, format } = this.options;\n    let result = defaultValue;\n\n    let duration = this.sound?.duration || this.options?.duration;\n\n    if (format == 'time') {\n      if (duration) {\n        if (duration === Infinity) {\n          result = 'âˆž';\n        } else {\n          result = numericDuration([duration]);\n        }\n      } else {\n        result = defaultValue || '--:--';\n      }\n    } else {\n      result = duration || defaultValue;\n    }\n\n    debugMessage(this, `render = ${result}`);\n    return result;\n  }\n}\n"],"names":["SoundDuration","StereoBaseIsHelper","constructor","args","_defineProperty","result","defaultValue","format","options","duration","sound","Infinity","numericDuration","debugMessage"],"mappings":";;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,MAAMA,aAAa,SAASC,kBAAkB,CAAC;AAAAC,EAAAA,WAAAA,CAAA,GAAAC,IAAA,EAAA;AAAA,IAAA,KAAA,CAAA,GAAAA,IAAA,CAAA,CAAA;AAAAC,IAAAA,eAAA,eACrD,gBAAgB,CAAA,CAAA;AAAA,GAAA;EAEvB,IAAIC,MAAMA,GAAG;IACX,IAAI;MAAEC,YAAY;AAAEC,MAAAA,MAAAA;KAAQ,GAAG,IAAI,CAACC,OAAO,CAAA;IAC3C,IAAIH,MAAM,GAAGC,YAAY,CAAA;AAEzB,IAAA,IAAIG,QAAQ,GAAG,IAAI,CAACC,KAAK,EAAED,QAAQ,IAAI,IAAI,CAACD,OAAO,EAAEC,QAAQ,CAAA;IAE7D,IAAIF,MAAM,IAAI,MAAM,EAAE;AACpB,MAAA,IAAIE,QAAQ,EAAE;QACZ,IAAIA,QAAQ,KAAKE,QAAQ,EAAE;AACzBN,UAAAA,MAAM,GAAG,GAAG,CAAA;AACd,SAAC,MAAM;AACLA,UAAAA,MAAM,GAAGO,eAAe,CAAC,CAACH,QAAQ,CAAC,CAAC,CAAA;AACtC,SAAA;AACF,OAAC,MAAM;QACLJ,MAAM,GAAGC,YAAY,IAAI,OAAO,CAAA;AAClC,OAAA;AACF,KAAC,MAAM;MACLD,MAAM,GAAGI,QAAQ,IAAIH,YAAY,CAAA;AACnC,KAAA;AAEAO,IAAAA,YAAY,CAAC,IAAI,EAAG,CAAWR,SAAAA,EAAAA,MAAO,EAAC,CAAC,CAAA;AACxC,IAAA,OAAOA,MAAM,CAAA;AACf,GAAA;AACF;;;;"}