{"version":3,"file":"sound-metadata.js","sources":["../../src/helpers/sound-metadata.js"],"sourcesContent":["import Helper from '@ember/component/helper';\nimport { get } from '@ember/object';\nimport { inject as service } from '@ember/service';\n\n/**\n  A helper to detect if a sound is playing.\n  ```hbs\n  {{sound-metadata (current-sound)}} // currently loaded sound metadata hash\n  {{sound-metadata @identifier key=title}} // metadata 'title' on sound matching @identifier\n  ```\n\n  @class {{sound-metadata}}\n  @type {Helper}\n  @param {String} url\n  @return {Object}\n*/\n\nexport default class SoundMetadata extends Helper {\n  name = 'sound-metadata';\n  @service stereo;\n\n  /**\n    @method compute\n    @param {Any} identifier url, urls, url objects, promise that resolves to a url\n    @param {String} key? name of the key to fetch\n    @return {Any}\n  */\n\n  compute([identifier], { key }) {\n    let metadata = this.stereo.metadataCache.find(identifier);\n\n    if (key && metadata && get(metadata, key)) {\n      return get(metadata, key);\n    } else if (!key && metadata) {\n      return metadata;\n    }\n  }\n}\n"],"names":["SoundMetadata","_class","Helper","constructor","args","_defineProperty","_initializerDefineProperty","_descriptor","compute","identifier","key","metadata","stereo","metadataCache","find","get","_applyDecoratedDescriptor","prototype","service","configurable","enumerable","writable","initializer"],"mappings":";;;;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEqBA,IAAAA,aAAa,IAAAC,MAAA,GAAnB,MAAMD,aAAa,SAASE,MAAM,CAAC;AAAAC,EAAAA,WAAAA,CAAA,GAAAC,IAAA,EAAA;AAAA,IAAA,KAAA,CAAA,GAAAA,IAAA,CAAA,CAAA;AAAAC,IAAAA,eAAA,eACzC,gBAAgB,CAAA,CAAA;AAAAC,IAAAA,0BAAA,iBAAAC,WAAA,EAAA,IAAA,CAAA,CAAA;AAAA,GAAA;AAGvB;AACF;AACA;AACA;AACA;AACA;;AAEEC,EAAAA,OAAOA,CAAC,CAACC,UAAU,CAAC,EAAE;AAAEC,IAAAA,GAAAA;AAAI,GAAC,EAAE;IAC7B,IAAIC,QAAQ,GAAG,IAAI,CAACC,MAAM,CAACC,aAAa,CAACC,IAAI,CAACL,UAAU,CAAC,CAAA;IAEzD,IAAIC,GAAG,IAAIC,QAAQ,IAAII,GAAG,CAACJ,QAAQ,EAAED,GAAG,CAAC,EAAE;AACzC,MAAA,OAAOK,GAAG,CAACJ,QAAQ,EAAED,GAAG,CAAC,CAAA;AAC3B,KAAC,MAAM,IAAI,CAACA,GAAG,IAAIC,QAAQ,EAAE;AAC3B,MAAA,OAAOA,QAAQ,CAAA;AACjB,KAAA;AACF,GAAA;AACF,CAAC,GAAAJ,WAAA,GAAAS,yBAAA,CAAAf,MAAA,CAAAgB,SAAA,EAAA,QAAA,EAAA,CAlBEC,MAAO,CAAA,EAAA;EAAAC,YAAA,EAAA,IAAA;EAAAC,UAAA,EAAA,IAAA;EAAAC,QAAA,EAAA,IAAA;EAAAC,WAAA,EAAA,IAAA;AAAA,CAAA,CAAA,GAAArB,MAAA;;;;"}