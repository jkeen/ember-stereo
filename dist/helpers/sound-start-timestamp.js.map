{"version":3,"file":"sound-start-timestamp.js","sources":["../../src/helpers/sound-start-timestamp.js"],"sourcesContent":["import StereoBaseIsHelper from '../-private/helpers/is-helper';\n\n/**\n  A helper to get a sound's position timestamp based on the playingDate property in an HLS file, or from the position + a startsAt parameter.\n  ```hbs\n\n  this.startsAt = new Date('2024-10-01T00:00:00Z');\n  {{sound-start-timestamp @identifier}} #=> playingDate property from HLS\n  {{sound-start-timestamp @identifier startsAt=this.startsAt}} #=> new Date('2024-10-01T00:00:00Z')\n   ```\n\n  @class {{sound-start-timestamp}}\n  @type {Helper}\n  @param {Any} identifier url, urls, url objects, promise that resolves to a url\n  @param {Date} startsAt required if currentTime is not provided\n  @param {Float} position\n  @param {Date} currentTime\n  @return {Date}\n*/\nexport default class SoundPositionTimestamp extends StereoBaseIsHelper {\n  name = 'sound-start-timestamp';\n\n  get result() {\n    let result;\n    if (this.sound?.startTime && this.sound?.isLoaded) {\n      result = new Date(this.sound.startTime);\n    } else if (this.options?.startsAt) {\n      // no end time available\n      result = new Date(this.options?.startsAt);\n    }\n\n    if (result instanceof Date && !isNaN(result)) {\n      return result;\n    } else {\n      return undefined;\n    }\n  }\n}\n"],"names":["SoundPositionTimestamp","StereoBaseIsHelper","constructor","args","_defineProperty","result","sound","startTime","isLoaded","Date","options","startsAt","isNaN","undefined"],"mappings":";;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,MAAMA,sBAAsB,SAASC,kBAAkB,CAAC;AAAAC,EAAAA,WAAAA,CAAA,GAAAC,IAAA,EAAA;AAAA,IAAA,KAAA,CAAA,GAAAA,IAAA,CAAA,CAAA;AAAAC,IAAAA,eAAA,eAC9D,uBAAuB,CAAA,CAAA;AAAA,GAAA;EAE9B,IAAIC,MAAMA,GAAG;AACX,IAAA,IAAIA,MAAM,CAAA;IACV,IAAI,IAAI,CAACC,KAAK,EAAEC,SAAS,IAAI,IAAI,CAACD,KAAK,EAAEE,QAAQ,EAAE;MACjDH,MAAM,GAAG,IAAII,IAAI,CAAC,IAAI,CAACH,KAAK,CAACC,SAAS,CAAC,CAAA;AACzC,KAAC,MAAM,IAAI,IAAI,CAACG,OAAO,EAAEC,QAAQ,EAAE;AACjC;MACAN,MAAM,GAAG,IAAII,IAAI,CAAC,IAAI,CAACC,OAAO,EAAEC,QAAQ,CAAC,CAAA;AAC3C,KAAA;IAEA,IAAIN,MAAM,YAAYI,IAAI,IAAI,CAACG,KAAK,CAACP,MAAM,CAAC,EAAE;AAC5C,MAAA,OAAOA,MAAM,CAAA;AACf,KAAC,MAAM;AACL,MAAA,OAAOQ,SAAS,CAAA;AAClB,KAAA;AACF,GAAA;AACF;;;;"}