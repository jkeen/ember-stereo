{"version":3,"file":"sound-position.js","sources":["../../src/helpers/sound-position.js"],"sourcesContent":["import StereoBaseIsHelper from '../-private/helpers/is-helper';\nimport { numericDuration } from './numeric-duration';\nimport debugMessage from '..//-private/utils/debug-message';\n\n/**\n  A helper to get a sound's position.\n  ```hbs\n   {{sound-position @identifier}} #=> 144000\n   {{sound-position @identifier format=\"time\"}} #=> \"02:24\"\n   {{sound-position @identifier format=\"percent\"}} #=> \"56\"\n\n   ```\n\n  @class {{sound-position}}\n  @type {Helper}\n*/\n\n/**\n  @method compute\n  @param {Any} identifier url, urls, url objects, promise that resolves to a url\n  @param {String} format time, percent,\n  @return {Float}\n*/\nexport default class SoundPosition extends StereoBaseIsHelper {\n  name = 'sound-position';\n\n  get result() {\n    let { format, defaultValue } = this.options;\n    let result;\n\n    let position = this.options?.position || this.sound?.position;\n    let duration = this.options?.duration || this.sound?.duration;\n\n    if (format == 'percent' || format == 'percentage') {\n      if (position && duration) {\n        result = (position / duration) * 100;\n      } else {\n        result = defaultValue || 0;\n      }\n    } else if (format == 'time') {\n      if (position !== undefined) {\n        result = numericDuration([position]);\n      } else {\n        result = defaultValue || '00:00';\n      }\n    } else if (position === undefined && defaultValue) {\n      result = defaultValue;\n    } else {\n      result = position\n    }\n\n    debugMessage(this, `${format} render = ${result}`);\n    return result;\n  }\n}\n"],"names":["SoundPosition","StereoBaseIsHelper","constructor","args","_defineProperty","result","format","defaultValue","options","position","sound","duration","undefined","numericDuration","debugMessage"],"mappings":";;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACe,MAAMA,aAAa,SAASC,kBAAkB,CAAC;AAAAC,EAAAA,WAAAA,CAAA,GAAAC,IAAA,EAAA;AAAA,IAAA,KAAA,CAAA,GAAAA,IAAA,CAAA,CAAA;AAAAC,IAAAA,eAAA,eACrD,gBAAgB,CAAA,CAAA;AAAA,GAAA;EAEvB,IAAIC,MAAMA,GAAG;IACX,IAAI;MAAEC,MAAM;AAAEC,MAAAA,YAAAA;KAAc,GAAG,IAAI,CAACC,OAAO,CAAA;AAC3C,IAAA,IAAIH,MAAM,CAAA;AAEV,IAAA,IAAII,QAAQ,GAAG,IAAI,CAACD,OAAO,EAAEC,QAAQ,IAAI,IAAI,CAACC,KAAK,EAAED,QAAQ,CAAA;AAC7D,IAAA,IAAIE,QAAQ,GAAG,IAAI,CAACH,OAAO,EAAEG,QAAQ,IAAI,IAAI,CAACD,KAAK,EAAEC,QAAQ,CAAA;AAE7D,IAAA,IAAIL,MAAM,IAAI,SAAS,IAAIA,MAAM,IAAI,YAAY,EAAE;MACjD,IAAIG,QAAQ,IAAIE,QAAQ,EAAE;AACxBN,QAAAA,MAAM,GAAII,QAAQ,GAAGE,QAAQ,GAAI,GAAG,CAAA;AACtC,OAAC,MAAM;QACLN,MAAM,GAAGE,YAAY,IAAI,CAAC,CAAA;AAC5B,OAAA;AACF,KAAC,MAAM,IAAID,MAAM,IAAI,MAAM,EAAE;MAC3B,IAAIG,QAAQ,KAAKG,SAAS,EAAE;AAC1BP,QAAAA,MAAM,GAAGQ,eAAe,CAAC,CAACJ,QAAQ,CAAC,CAAC,CAAA;AACtC,OAAC,MAAM;QACLJ,MAAM,GAAGE,YAAY,IAAI,OAAO,CAAA;AAClC,OAAA;AACF,KAAC,MAAM,IAAIE,QAAQ,KAAKG,SAAS,IAAIL,YAAY,EAAE;AACjDF,MAAAA,MAAM,GAAGE,YAAY,CAAA;AACvB,KAAC,MAAM;AACLF,MAAAA,MAAM,GAAGI,QAAQ,CAAA;AACnB,KAAA;IAEAK,YAAY,CAAC,IAAI,EAAG,CAAA,EAAER,MAAO,CAAYD,UAAAA,EAAAA,MAAO,EAAC,CAAC,CAAA;AAClD,IAAA,OAAOA,MAAM,CAAA;AACf,GAAA;AACF;;;;"}