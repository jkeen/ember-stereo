{"version":3,"file":"native-audio.js","sources":["../../src/stereo-connections/native-audio.js"],"sourcesContent":["import { tracked } from '@glimmer/tracking';\nimport { A } from '@ember/array';\nimport { run } from '@ember/runloop';\nimport { isTesting, macroCondition } from '@embroider/macros';\nimport { task, timeout, didCancel } from 'ember-concurrency';\nimport { cached } from 'tracked-toolbox';\nimport BaseSound from './base';\n// These are the events we're watching for\nconst AUDIO_EVENTS = [\n  'loadstart',\n  'durationchange',\n  'loadedmetadata',\n  'loadeddata',\n  'progress',\n  'canplay',\n  'canplaythrough',\n  'error',\n  'playing',\n  'pause',\n  'ended',\n  'seeking',\n  'seeked',\n  'emptied',\n  'timeupdate',\n];\n\n// Ready state values\n// const HAVE_NOTHING = 0;\n// const HAVE_METADATA = 1;\nconst HAVE_CURRENT_DATA = 2;\n// const HAVE_FUTURE_DATA = 3;\n// const HAVE_ENOUGH_DATA = 4;\n\n/**\n * This is the connection class that uses a plain ol audio element to play sounds.\n *\n * @class NativeAudio\n * @extends BaseSound\n * @constructor\n */\nexport default class NativeAudio extends BaseSound {\n  @tracked _internalElement;\n\n  static canPlayMimeType(mimeType) {\n    let audio = new Audio();\n    // it returns \"probably\" and \"maybe\". Both are worth trying. Empty is bad.\n    return audio.canPlayType(mimeType) !== '';\n  }\n\n  static key = 'NativeAudio';\n  static toString() {\n    return 'Native Audio';\n  }\n\n  setup() {\n    let audio = this.requestControl();\n    audio.src = this.url;\n    this._registerEvents(audio);\n    this.retryCount = 0;\n\n    if (macroCondition(isTesting())) {\n      audio.muted = true;\n    }\n\n    if (this.options?.xhr) {\n      this.debug('xhr options are not supported in NativeAudio, ignoring and trying to load anyway')\n      audio.load();\n    } else {\n      audio.load();\n    }\n  }\n\n  _registerEvents(audio) {\n    AUDIO_EVENTS.forEach((eventName) => {\n      audio.addEventListener(eventName, (e) =>\n        run(() => this._handleAudioEvent(eventName, e))\n      );\n    });\n  }\n\n  _unregisterEvents(audio) {\n    AUDIO_EVENTS.forEach((eventName) => audio.removeEventListener(eventName));\n  }\n\n  _handleAudioEvent(eventName, e) {\n    if (!this.urlsAreEqual(e.target?.src, this.url) && e.target?.src !== '') {\n      // This event is not for us if our srcs aren't equal\n\n      // but if the target src is empty it means we've been stopped and in\n      // that case should allow the event through.\n      return;\n    }\n\n    this.debug(`Handling '${eventName}' event from audio element`);\n\n    switch (eventName) {\n      case 'loadeddata':\n        var audio = this.audioElement;\n        // Firefox doesn't fire a 'canplay' event until after you call *play* on\n        // the audio, but it does fire 'loadeddata' when it's ready\n        if (audio.readyState >= HAVE_CURRENT_DATA) {\n          this._onAudioReady();\n        }\n        break;\n      case 'canplay':\n      case 'canplaythrough':\n        this._onAudioReady();\n        break;\n      case 'error':\n        this._onAudioError(e.target.error);\n        break;\n      case 'onloadedmetadata':\n        this._onAudioDurationChanged();\n        this.duration = this._audioDuration();\n        break;\n      case 'playing':\n        this._onAudioPlayed();\n        break;\n      // the emptied event is triggered by our more reliable stream pause method\n      case 'emptied':\n        this._onAudioEmptied();\n        break;\n      case 'pause':\n        this._onAudioPaused();\n        break;\n      case 'durationchange':\n        this._onAudioDurationChanged();\n        this.duration = this._audioDuration();\n        break;\n      case 'ended':\n        this._onAudioEnded();\n        break;\n      case 'seeking':\n      case 'seeked':\n      case 'timeupdate':\n        this._onPositionChange();\n        break;\n      case 'progress':\n        this._onAudioProgress(e);\n        break;\n    }\n  }\n\n  get audioElement() {\n    // If we have control, return the shared element\n    // if we don't have control, return the internal cloned element\n\n    let sharedAudioAccess = this.sharedAudioAccess;\n    if (sharedAudioAccess && sharedAudioAccess.hasControl(this)) {\n      return sharedAudioAccess.audioElement;\n    }\n\n    return this.internalElement;\n  }\n\n  get internalElement() {\n    if (!this._internalElement) {\n      this._internalElement = document.createElement('audio');\n      this._internalElement.setAttribute('preload', 'metadata');\n      this._internalElement.setAttribute('crossorigin', 'anonymous');\n    }\n\n    return this._internalElement;\n  }\n\n  releaseControl() {\n    if (!this.sharedAudioAccess) {\n      return;\n    }\n\n    // Send a pause event to ensure playback status is updated correctly.\n    // If this doesn't happen, the audio can get stuck in a playing state,\n    // even though it's not playing. https://github.com/jkeen/ember-stereo/issues/22\n    this._onAudioPaused(this);\n\n    this.sharedAudioAccess.releaseControl(this);\n    // save current state of audio element to the internal element that won't be played\n    this._saveState(this.sharedAudioAccess.audioElement);\n  }\n\n  _saveState(audio) {\n    this.debug('Saving audio state');\n\n    this.internalElement.src = audio.src;\n\n    try {\n      this.internalElement.currentTime = audio.currentTime;\n    } catch (e) {\n      this.debug('Errored while trying to save audio current time');\n      this.debug(e);\n    }\n\n    this.internalElement.volume = audio.volume;\n    this.debug('Saved audio state');\n  }\n\n  requestControl() {\n    if (this.sharedAudioAccess) {\n      return this.sharedAudioAccess.requestControl(this);\n    } else {\n      return this.audioElement;\n    }\n  }\n\n  restoreState() {\n    let sharedElement = this.audioElement;\n    let internalElement = this.internalElement;\n\n    if (this.sharedAudioAccess && internalElement) {\n      this.debug('Restoring audio stateâ€¦');\n      try {\n        // restore the state of the shared element from the dummy element\n        if (internalElement.currentTime) {\n          sharedElement.currentTime = internalElement.currentTime;\n        }\n        if (internalElement.volume) {\n          sharedElement.volume = internalElement.volume;\n        }\n        this.debug('Restored audio state');\n      } catch (e) {\n        this.debug('Errored while trying to restore audio state');\n        this.debug(e);\n      }\n    }\n  }\n\n  _onAudioProgress() {\n    if (!this.isStream) {\n      this.trigger('audio-loading', {\n        sound: this,\n        ...this._calculatePercentLoaded(),\n      });\n    }\n  }\n\n  _onPositionChange() {\n    if (!this.isStream) {\n      this.trigger('audio-position-changed', {\n        sound: this,\n        position: this.position,\n      });\n    }\n  }\n\n  _onAudioDurationChanged() {\n    this.trigger('audio-duration-changed', {\n      sound: this,\n      duration: this._audioDuration(),\n    });\n  }\n\n  _onAudioPlayed() {\n    if (!this.isPlaying) {\n      this.trigger('audio-played', { sound: this });\n      this.durationWorkaroundTask.perform().catch((e) => {\n        if (!didCancel(e)) {\n          console.error(e);\n        }\n      });\n    }\n  }\n\n  _onAudioEnded() {\n    this.trigger('audio-ended', { sound: this });\n  }\n\n  _onAudioError(error) {\n    if (error.name === 'NotAllowedError') {\n      this.stop();\n      this.trigger('audio-blocked', {\n        sound: this,\n        error: error.message,\n        event: error,\n      });\n    } else {\n      let message = '';\n      switch (error.code) {\n        case error.MEDIA_ERR_ABORTED:\n          message = 'You aborted the audio playback.';\n          break;\n        case error.MEDIA_ERR_NETWORK:\n          message = 'A network error caused the audio download to fail.';\n          break;\n        case error.MEDIA_ERR_DECODE:\n          message = 'Decoder error.';\n          break;\n        case error.MEDIA_ERR_SRC_NOT_SUPPORTED:\n          message = error.message || 'Audio source format is not supported.';\n          break;\n        default:\n          message = error.message;\n          break;\n      }\n\n      this.debug(`audio element threw error ${message}`);\n      this.trigger('audio-load-error', {\n        sound: this,\n        error: message,\n        event: error,\n      });\n    }\n  }\n\n  _onAudioEmptied() {\n    this.trigger('audio-paused', { sound: this });\n  }\n\n  _onAudioPaused() {\n    this.trigger('audio-paused', { sound: this });\n  }\n\n  _onAudioReady() {\n    this.debug('triggering audio ready');\n    this.trigger('audio-ready', { sound: this });\n    this.trigger('audio-loaded', { sound: this });\n  }\n\n  _calculatePercentLoaded() {\n    let audio = this.audioElement;\n\n    if (audio && audio.buffered && audio.buffered.length) {\n      let ranges = audio.buffered;\n      let totals = [];\n      for (var index = 0; index < ranges.length; index++) {\n        totals.push(ranges.end(index) - ranges.start(index));\n      }\n\n      let total = A(totals).reduce((a, b) => a + b, 0);\n\n      this.debug(`ms loaded: ${total * 1000}`);\n      this.debug(`duration: ${this._audioDuration()}`);\n      this.debug(`percent loaded = ${(total / audio.duration) * 100}`);\n\n      return { percentLoaded: total / audio.duration };\n    } else {\n      return 0;\n    }\n  }\n\n  /* Public interface */\n\n  _durationHistory = [];\n\n  _audioDuration() {\n    let audio = this.audioElement;\n    if (audio.duration > 172800000 || this.probablyAStream) {\n      // if audio is longer than 3 days in milliseconds,\n      // assume it's a stream, and set duration to infinity as it should be\n      // this is a bug in Opera and was reported on 5/25/2017\n\n      return Infinity;\n    }\n    return audio.duration * 1000;\n  }\n\n  _currentPosition() {\n    return this.audioElement.currentTime * 1000;\n  }\n\n  _setPosition(position) {\n    this.audioElement.currentTime = position / 1000;\n    return this._currentPosition();\n  }\n\n  _setVolume(volume) {\n    if (macroCondition(isTesting())) {\n      this.debug(`skipping set volume in test env: ${volume}`);\n    } else {\n      this.debug(`_setVolume: ${volume}`);\n      let audio = this.audioElement;\n      audio.volume = volume / 100;\n    }\n  }\n\n  // Some files that don't have an obvious mime-type/extension won't return Infinity for their duration\n  // despite it being a stream. Instead the duration will continue to increase as the file plays. This method\n  // samples the duration of the element and if it doesn't change durations for a while we know it's not a stream\n\n  @cached\n  get probablyAStream() {\n    let differences = this._durationHistory.reduce(\n      (val, cur, index, original) => [\n        ...val,\n        index === 0 ? 0 : original[index] - original[index - 1],\n      ],\n      []\n    );\n    return differences.filter((d) => d === 0).length !== differences.length;\n  }\n\n  @tracked _durationHistory = [];\n\n  @task({ restartable: true })\n  *durationWorkaroundTask() {\n    let audio = this.audioElement;\n\n    if (macroCondition(isTesting())) {\n      this._durationHistory = [0, 0, 0];\n    } else {\n      while (this.isPlaying) {\n        let duration = audio.duration * 1000;\n        this._durationHistory = this._durationHistory.slice(-20); // only keep last 20 items\n        this._durationHistory.push(duration);\n\n        yield timeout(250);\n      }\n    }\n  }\n\n  @task({ restartable: true })\n  *playTask({ position }) {\n    this.isLoading = true;\n    let audio = this.requestControl();\n\n    // since we clear the `src` attr on pause for streams, restore it here\n    this.loadAudio(audio);\n    this.restoreState();\n\n    if (typeof position !== 'undefined') {\n      this._setPosition(position);\n    }\n\n    this.debug('telling audio to play');\n    try {\n      yield audio.play().catch((e) => {\n        throw e;\n      });\n    } catch (e) {\n      this._onAudioError(e);\n    } finally {\n      this.isLoading = false;\n    }\n  }\n\n  get shouldRetry() {\n    return this.retryCount < 1;\n  }\n\n  retry() {\n    this.debug(`retrying load with crossorigin not set`);\n    this.audioElement.removeAttribute('crossorigin');\n\n    this.retryCount = this.retryCount + 1;\n    this.audioElement.src = this.url;\n    this.audioElement.load();\n  }\n\n  play({ position } = {}) {\n    return this.playTask.perform({ position });\n  }\n\n  pause() {\n    this.debug('#pause');\n    let audio = this.audioElement;\n\n    if (this.isStream) {\n      this.stop(); // we don't want the stream to continue loading while paused\n    } else {\n      audio.pause();\n    }\n  }\n\n  stop() {\n    this.debug('#stop');\n    let audio = this.audioElement;\n    audio.pause();\n\n    // calling pause halts playback but does not stop downloading streaming\n    // media. this is the method recommended by MDN: https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Using_HTML5_audio_and_video#Stopping_the_download_of_media\n    // NOTE: this fires an `'emptied'` event, which we treat the same way as `'pause'`\n    audio.removeAttribute('src');\n    audio.load();\n  }\n\n  loadAudio(audio) {\n    this.defeatBrowserCaching();\n    if (!this.urlsAreEqual(audio.src, this.url)) {\n      audio.setAttribute('src', this.url);\n      audio.load();\n    }\n  }\n\n  defeatBrowserCaching() {\n    // https://stackoverflow.com/questions/65740471/html-audio-internet-stream-caching-issue\n    // Sometimes the browser can cache streams and when trying to play the stream live\n    // after having it paused it will interleave the old cached version and the current live version\n    // in an schizophrenically bonkers way. This appends a #timestamp to the end of the url in a way\n    // that should overcome that\n\n    if (this.isStream) {\n      let a = document.createElement('a');\n      a.href = this.url;\n      a.hash = new Date().getTime();\n      this.url = a.href;\n    }\n  }\n\n  urlsAreEqual(url1, url2) {\n    // GOTCHA: audio.src is a fully qualified URL, and this.url may be a relative url\n    // So when comparing, make sure we're dealing in absolutes\n\n    let parser1 = document.createElement('a');\n    let parser2 = document.createElement('a');\n    parser1.href = url1;\n    parser2.href = url2;\n\n    return parser1.href === parser2.href;\n  }\n\n  teardown() {\n    let audio = this.requestControl();\n    this.durationWorkaroundTask.cancelAll();\n    this.trigger('_will_destroy', { sound: this });\n    this._unregisterEvents(audio);\n    super.teardown();\n  }\n}\n"],"names":["AUDIO_EVENTS","HAVE_CURRENT_DATA","NativeAudio","_dec","task","restartable","_dec2","_class","_class2","BaseSound","constructor","args","_initializerDefineProperty","_descriptor","_defineProperty","_descriptor2","canPlayMimeType","mimeType","audio","Audio","canPlayType","toString","setup","requestControl","src","url","_registerEvents","retryCount","macroCondition","isTesting","muted","options","xhr","debug","load","forEach","eventName","addEventListener","e","run","_handleAudioEvent","_unregisterEvents","removeEventListener","urlsAreEqual","target","audioElement","readyState","_onAudioReady","_onAudioError","error","_onAudioDurationChanged","duration","_audioDuration","_onAudioPlayed","_onAudioEmptied","_onAudioPaused","_onAudioEnded","_onPositionChange","_onAudioProgress","sharedAudioAccess","hasControl","internalElement","_internalElement","document","createElement","setAttribute","releaseControl","_saveState","currentTime","volume","restoreState","sharedElement","isStream","trigger","sound","_calculatePercentLoaded","position","isPlaying","durationWorkaroundTask","perform","catch","didCancel","console","name","stop","message","event","code","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","buffered","length","ranges","totals","index","push","end","start","total","A","reduce","a","b","percentLoaded","probablyAStream","Infinity","_currentPosition","_setPosition","_setVolume","differences","_durationHistory","val","cur","original","filter","d","slice","timeout","playTask","isLoading","loadAudio","play","shouldRetry","retry","removeAttribute","pause","defeatBrowserCaching","href","hash","Date","getTime","url1","url2","parser1","parser2","teardown","cancelAll","_applyDecoratedDescriptor","prototype","tracked","configurable","enumerable","writable","initializer","cached","Object","getOwnPropertyDescriptor"],"mappings":";;;;;;;;;;AAOA;AACA,MAAMA,YAAY,GAAG,CACnB,WAAW,EACX,gBAAgB,EAChB,gBAAgB,EAChB,YAAY,EACZ,UAAU,EACV,SAAS,EACT,gBAAgB,EAChB,OAAO,EACP,SAAS,EACT,OAAO,EACP,OAAO,EACP,SAAS,EACT,QAAQ,EACR,SAAS,EACT,YAAY,CACb,CAAA;;AAED;AACA;AACA;AACA,MAAMC,iBAAiB,GAAG,CAAC,CAAA;AAC3B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AANA,IAOqBC,WAAW,IAAAC,IAAA,GAgW7BC,IAAI,CAAC;AAAEC,EAAAA,WAAW,EAAE,IAAA;AAAK,CAAC,CAAC,EAAAC,KAAA,GAiB3BF,IAAI,CAAC;AAAEC,EAAAA,WAAW,EAAE,IAAA;AAAK,CAAC,CAAC,GAAAE,MAAA,IAAAC,OAAA,GAjXf,MAAMN,WAAW,SAASO,KAAS,CAAC;AAAAC,EAAAA,WAAAA,CAAA,GAAAC,IAAA,EAAA;AAAA,IAAA,KAAA,CAAA,GAAAA,IAAA,CAAA,CAAA;AAAAC,IAAAA,0BAAA,2BAAAC,WAAA,EAAA,IAAA,CAAA,CAAA;AA2SjD;AAAAC,IAAAA,eAAA,2BAEmB,EAAE,CAAA,CAAA;AAAAF,IAAAA,0BAAA,2BAAAG,YAAA,EAAA,IAAA,CAAA,CAAA;AAAA,GAAA;EA1SrB,OAAOC,eAAeA,CAACC,QAAQ,EAAE;AAC/B,IAAA,IAAIC,KAAK,GAAG,IAAIC,KAAK,EAAE,CAAA;AACvB;AACA,IAAA,OAAOD,KAAK,CAACE,WAAW,CAACH,QAAQ,CAAC,KAAK,EAAE,CAAA;AAC3C,GAAA;EAGA,OAAOI,QAAQA,GAAG;AAChB,IAAA,OAAO,cAAc,CAAA;AACvB,GAAA;AAEAC,EAAAA,KAAKA,GAAG;AACN,IAAA,IAAIJ,KAAK,GAAG,IAAI,CAACK,cAAc,EAAE,CAAA;AACjCL,IAAAA,KAAK,CAACM,GAAG,GAAG,IAAI,CAACC,GAAG,CAAA;AACpB,IAAA,IAAI,CAACC,eAAe,CAACR,KAAK,CAAC,CAAA;IAC3B,IAAI,CAACS,UAAU,GAAG,CAAC,CAAA;AAEnB,IAAA,IAAIC,cAAc,CAACC,SAAS,EAAE,CAAC,EAAE;MAC/BX,KAAK,CAACY,KAAK,GAAG,IAAI,CAAA;AACpB,KAAA;AAEA,IAAA,IAAI,IAAI,CAACC,OAAO,EAAEC,GAAG,EAAE;AACrB,MAAA,IAAI,CAACC,KAAK,CAAC,kFAAkF,CAAC,CAAA;MAC9Ff,KAAK,CAACgB,IAAI,EAAE,CAAA;AACd,KAAC,MAAM;MACLhB,KAAK,CAACgB,IAAI,EAAE,CAAA;AACd,KAAA;AACF,GAAA;EAEAR,eAAeA,CAACR,KAAK,EAAE;AACrBlB,IAAAA,YAAY,CAACmC,OAAO,CAAEC,SAAS,IAAK;AAClClB,MAAAA,KAAK,CAACmB,gBAAgB,CAACD,SAAS,EAAGE,CAAC,IAClCC,GAAG,CAAC,MAAM,IAAI,CAACC,iBAAiB,CAACJ,SAAS,EAAEE,CAAC,CAAC,CAChD,CAAC,CAAA;AACH,KAAC,CAAC,CAAA;AACJ,GAAA;EAEAG,iBAAiBA,CAACvB,KAAK,EAAE;IACvBlB,YAAY,CAACmC,OAAO,CAAEC,SAAS,IAAKlB,KAAK,CAACwB,mBAAmB,CAACN,SAAS,CAAC,CAAC,CAAA;AAC3E,GAAA;AAEAI,EAAAA,iBAAiBA,CAACJ,SAAS,EAAEE,CAAC,EAAE;IAC9B,IAAI,CAAC,IAAI,CAACK,YAAY,CAACL,CAAC,CAACM,MAAM,EAAEpB,GAAG,EAAE,IAAI,CAACC,GAAG,CAAC,IAAIa,CAAC,CAACM,MAAM,EAAEpB,GAAG,KAAK,EAAE,EAAE;AACvE;;AAEA;AACA;AACA,MAAA,OAAA;AACF,KAAA;AAEA,IAAA,IAAI,CAACS,KAAK,CAAE,CAAYG,UAAAA,EAAAA,SAAU,4BAA2B,CAAC,CAAA;AAE9D,IAAA,QAAQA,SAAS;AACf,MAAA,KAAK,YAAY;AACf,QAAA,IAAIlB,KAAK,GAAG,IAAI,CAAC2B,YAAY,CAAA;AAC7B;AACA;AACA,QAAA,IAAI3B,KAAK,CAAC4B,UAAU,IAAI7C,iBAAiB,EAAE;UACzC,IAAI,CAAC8C,aAAa,EAAE,CAAA;AACtB,SAAA;AACA,QAAA,MAAA;AACF,MAAA,KAAK,SAAS,CAAA;AACd,MAAA,KAAK,gBAAgB;QACnB,IAAI,CAACA,aAAa,EAAE,CAAA;AACpB,QAAA,MAAA;AACF,MAAA,KAAK,OAAO;QACV,IAAI,CAACC,aAAa,CAACV,CAAC,CAACM,MAAM,CAACK,KAAK,CAAC,CAAA;AAClC,QAAA,MAAA;AACF,MAAA,KAAK,kBAAkB;QACrB,IAAI,CAACC,uBAAuB,EAAE,CAAA;AAC9B,QAAA,IAAI,CAACC,QAAQ,GAAG,IAAI,CAACC,cAAc,EAAE,CAAA;AACrC,QAAA,MAAA;AACF,MAAA,KAAK,SAAS;QACZ,IAAI,CAACC,cAAc,EAAE,CAAA;AACrB,QAAA,MAAA;AACF;AACA,MAAA,KAAK,SAAS;QACZ,IAAI,CAACC,eAAe,EAAE,CAAA;AACtB,QAAA,MAAA;AACF,MAAA,KAAK,OAAO;QACV,IAAI,CAACC,cAAc,EAAE,CAAA;AACrB,QAAA,MAAA;AACF,MAAA,KAAK,gBAAgB;QACnB,IAAI,CAACL,uBAAuB,EAAE,CAAA;AAC9B,QAAA,IAAI,CAACC,QAAQ,GAAG,IAAI,CAACC,cAAc,EAAE,CAAA;AACrC,QAAA,MAAA;AACF,MAAA,KAAK,OAAO;QACV,IAAI,CAACI,aAAa,EAAE,CAAA;AACpB,QAAA,MAAA;AACF,MAAA,KAAK,SAAS,CAAA;AACd,MAAA,KAAK,QAAQ,CAAA;AACb,MAAA,KAAK,YAAY;QACf,IAAI,CAACC,iBAAiB,EAAE,CAAA;AACxB,QAAA,MAAA;AACF,MAAA,KAAK,UAAU;AACb,QAAA,IAAI,CAACC,gBAAgB,CAACpB,CAAC,CAAC,CAAA;AACxB,QAAA,MAAA;AACJ,KAAA;AACF,GAAA;EAEA,IAAIO,YAAYA,GAAG;AACjB;AACA;;AAEA,IAAA,IAAIc,iBAAiB,GAAG,IAAI,CAACA,iBAAiB,CAAA;IAC9C,IAAIA,iBAAiB,IAAIA,iBAAiB,CAACC,UAAU,CAAC,IAAI,CAAC,EAAE;MAC3D,OAAOD,iBAAiB,CAACd,YAAY,CAAA;AACvC,KAAA;IAEA,OAAO,IAAI,CAACgB,eAAe,CAAA;AAC7B,GAAA;EAEA,IAAIA,eAAeA,GAAG;AACpB,IAAA,IAAI,CAAC,IAAI,CAACC,gBAAgB,EAAE;MAC1B,IAAI,CAACA,gBAAgB,GAAGC,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC,CAAA;MACvD,IAAI,CAACF,gBAAgB,CAACG,YAAY,CAAC,SAAS,EAAE,UAAU,CAAC,CAAA;MACzD,IAAI,CAACH,gBAAgB,CAACG,YAAY,CAAC,aAAa,EAAE,WAAW,CAAC,CAAA;AAChE,KAAA;IAEA,OAAO,IAAI,CAACH,gBAAgB,CAAA;AAC9B,GAAA;AAEAI,EAAAA,cAAcA,GAAG;AACf,IAAA,IAAI,CAAC,IAAI,CAACP,iBAAiB,EAAE;AAC3B,MAAA,OAAA;AACF,KAAA;;AAEA;AACA;AACA;AACA,IAAA,IAAI,CAACJ,cAAc,CAAC,IAAI,CAAC,CAAA;AAEzB,IAAA,IAAI,CAACI,iBAAiB,CAACO,cAAc,CAAC,IAAI,CAAC,CAAA;AAC3C;IACA,IAAI,CAACC,UAAU,CAAC,IAAI,CAACR,iBAAiB,CAACd,YAAY,CAAC,CAAA;AACtD,GAAA;EAEAsB,UAAUA,CAACjD,KAAK,EAAE;AAChB,IAAA,IAAI,CAACe,KAAK,CAAC,oBAAoB,CAAC,CAAA;AAEhC,IAAA,IAAI,CAAC4B,eAAe,CAACrC,GAAG,GAAGN,KAAK,CAACM,GAAG,CAAA;IAEpC,IAAI;AACF,MAAA,IAAI,CAACqC,eAAe,CAACO,WAAW,GAAGlD,KAAK,CAACkD,WAAW,CAAA;KACrD,CAAC,OAAO9B,CAAC,EAAE;AACV,MAAA,IAAI,CAACL,KAAK,CAAC,iDAAiD,CAAC,CAAA;AAC7D,MAAA,IAAI,CAACA,KAAK,CAACK,CAAC,CAAC,CAAA;AACf,KAAA;AAEA,IAAA,IAAI,CAACuB,eAAe,CAACQ,MAAM,GAAGnD,KAAK,CAACmD,MAAM,CAAA;AAC1C,IAAA,IAAI,CAACpC,KAAK,CAAC,mBAAmB,CAAC,CAAA;AACjC,GAAA;AAEAV,EAAAA,cAAcA,GAAG;IACf,IAAI,IAAI,CAACoC,iBAAiB,EAAE;AAC1B,MAAA,OAAO,IAAI,CAACA,iBAAiB,CAACpC,cAAc,CAAC,IAAI,CAAC,CAAA;AACpD,KAAC,MAAM;MACL,OAAO,IAAI,CAACsB,YAAY,CAAA;AAC1B,KAAA;AACF,GAAA;AAEAyB,EAAAA,YAAYA,GAAG;AACb,IAAA,IAAIC,aAAa,GAAG,IAAI,CAAC1B,YAAY,CAAA;AACrC,IAAA,IAAIgB,eAAe,GAAG,IAAI,CAACA,eAAe,CAAA;AAE1C,IAAA,IAAI,IAAI,CAACF,iBAAiB,IAAIE,eAAe,EAAE;AAC7C,MAAA,IAAI,CAAC5B,KAAK,CAAC,wBAAwB,CAAC,CAAA;MACpC,IAAI;AACF;QACA,IAAI4B,eAAe,CAACO,WAAW,EAAE;AAC/BG,UAAAA,aAAa,CAACH,WAAW,GAAGP,eAAe,CAACO,WAAW,CAAA;AACzD,SAAA;QACA,IAAIP,eAAe,CAACQ,MAAM,EAAE;AAC1BE,UAAAA,aAAa,CAACF,MAAM,GAAGR,eAAe,CAACQ,MAAM,CAAA;AAC/C,SAAA;AACA,QAAA,IAAI,CAACpC,KAAK,CAAC,sBAAsB,CAAC,CAAA;OACnC,CAAC,OAAOK,CAAC,EAAE;AACV,QAAA,IAAI,CAACL,KAAK,CAAC,6CAA6C,CAAC,CAAA;AACzD,QAAA,IAAI,CAACA,KAAK,CAACK,CAAC,CAAC,CAAA;AACf,OAAA;AACF,KAAA;AACF,GAAA;AAEAoB,EAAAA,gBAAgBA,GAAG;AACjB,IAAA,IAAI,CAAC,IAAI,CAACc,QAAQ,EAAE;AAClB,MAAA,IAAI,CAACC,OAAO,CAAC,eAAe,EAAE;AAC5BC,QAAAA,KAAK,EAAE,IAAI;QACX,GAAG,IAAI,CAACC,uBAAuB,EAAC;AAClC,OAAC,CAAC,CAAA;AACJ,KAAA;AACF,GAAA;AAEAlB,EAAAA,iBAAiBA,GAAG;AAClB,IAAA,IAAI,CAAC,IAAI,CAACe,QAAQ,EAAE;AAClB,MAAA,IAAI,CAACC,OAAO,CAAC,wBAAwB,EAAE;AACrCC,QAAAA,KAAK,EAAE,IAAI;QACXE,QAAQ,EAAE,IAAI,CAACA,QAAAA;AACjB,OAAC,CAAC,CAAA;AACJ,KAAA;AACF,GAAA;AAEA1B,EAAAA,uBAAuBA,GAAG;AACxB,IAAA,IAAI,CAACuB,OAAO,CAAC,wBAAwB,EAAE;AACrCC,MAAAA,KAAK,EAAE,IAAI;AACXvB,MAAAA,QAAQ,EAAE,IAAI,CAACC,cAAc,EAAC;AAChC,KAAC,CAAC,CAAA;AACJ,GAAA;AAEAC,EAAAA,cAAcA,GAAG;AACf,IAAA,IAAI,CAAC,IAAI,CAACwB,SAAS,EAAE;AACnB,MAAA,IAAI,CAACJ,OAAO,CAAC,cAAc,EAAE;AAAEC,QAAAA,KAAK,EAAE,IAAA;AAAK,OAAC,CAAC,CAAA;MAC7C,IAAI,CAACI,sBAAsB,CAACC,OAAO,EAAE,CAACC,KAAK,CAAE1C,CAAC,IAAK;AACjD,QAAA,IAAI,CAAC2C,SAAS,CAAC3C,CAAC,CAAC,EAAE;AACjB4C,UAAAA,OAAO,CAACjC,KAAK,CAACX,CAAC,CAAC,CAAA;AAClB,SAAA;AACF,OAAC,CAAC,CAAA;AACJ,KAAA;AACF,GAAA;AAEAkB,EAAAA,aAAaA,GAAG;AACd,IAAA,IAAI,CAACiB,OAAO,CAAC,aAAa,EAAE;AAAEC,MAAAA,KAAK,EAAE,IAAA;AAAK,KAAC,CAAC,CAAA;AAC9C,GAAA;EAEA1B,aAAaA,CAACC,KAAK,EAAE;AACnB,IAAA,IAAIA,KAAK,CAACkC,IAAI,KAAK,iBAAiB,EAAE;MACpC,IAAI,CAACC,IAAI,EAAE,CAAA;AACX,MAAA,IAAI,CAACX,OAAO,CAAC,eAAe,EAAE;AAC5BC,QAAAA,KAAK,EAAE,IAAI;QACXzB,KAAK,EAAEA,KAAK,CAACoC,OAAO;AACpBC,QAAAA,KAAK,EAAErC,KAAAA;AACT,OAAC,CAAC,CAAA;AACJ,KAAC,MAAM;MACL,IAAIoC,OAAO,GAAG,EAAE,CAAA;MAChB,QAAQpC,KAAK,CAACsC,IAAI;QAChB,KAAKtC,KAAK,CAACuC,iBAAiB;AAC1BH,UAAAA,OAAO,GAAG,iCAAiC,CAAA;AAC3C,UAAA,MAAA;QACF,KAAKpC,KAAK,CAACwC,iBAAiB;AAC1BJ,UAAAA,OAAO,GAAG,oDAAoD,CAAA;AAC9D,UAAA,MAAA;QACF,KAAKpC,KAAK,CAACyC,gBAAgB;AACzBL,UAAAA,OAAO,GAAG,gBAAgB,CAAA;AAC1B,UAAA,MAAA;QACF,KAAKpC,KAAK,CAAC0C,2BAA2B;AACpCN,UAAAA,OAAO,GAAGpC,KAAK,CAACoC,OAAO,IAAI,uCAAuC,CAAA;AAClE,UAAA,MAAA;AACF,QAAA;UACEA,OAAO,GAAGpC,KAAK,CAACoC,OAAO,CAAA;AACvB,UAAA,MAAA;AACJ,OAAA;AAEA,MAAA,IAAI,CAACpD,KAAK,CAAE,CAA4BoD,0BAAAA,EAAAA,OAAQ,EAAC,CAAC,CAAA;AAClD,MAAA,IAAI,CAACZ,OAAO,CAAC,kBAAkB,EAAE;AAC/BC,QAAAA,KAAK,EAAE,IAAI;AACXzB,QAAAA,KAAK,EAAEoC,OAAO;AACdC,QAAAA,KAAK,EAAErC,KAAAA;AACT,OAAC,CAAC,CAAA;AACJ,KAAA;AACF,GAAA;AAEAK,EAAAA,eAAeA,GAAG;AAChB,IAAA,IAAI,CAACmB,OAAO,CAAC,cAAc,EAAE;AAAEC,MAAAA,KAAK,EAAE,IAAA;AAAK,KAAC,CAAC,CAAA;AAC/C,GAAA;AAEAnB,EAAAA,cAAcA,GAAG;AACf,IAAA,IAAI,CAACkB,OAAO,CAAC,cAAc,EAAE;AAAEC,MAAAA,KAAK,EAAE,IAAA;AAAK,KAAC,CAAC,CAAA;AAC/C,GAAA;AAEA3B,EAAAA,aAAaA,GAAG;AACd,IAAA,IAAI,CAACd,KAAK,CAAC,wBAAwB,CAAC,CAAA;AACpC,IAAA,IAAI,CAACwC,OAAO,CAAC,aAAa,EAAE;AAAEC,MAAAA,KAAK,EAAE,IAAA;AAAK,KAAC,CAAC,CAAA;AAC5C,IAAA,IAAI,CAACD,OAAO,CAAC,cAAc,EAAE;AAAEC,MAAAA,KAAK,EAAE,IAAA;AAAK,KAAC,CAAC,CAAA;AAC/C,GAAA;AAEAC,EAAAA,uBAAuBA,GAAG;AACxB,IAAA,IAAIzD,KAAK,GAAG,IAAI,CAAC2B,YAAY,CAAA;IAE7B,IAAI3B,KAAK,IAAIA,KAAK,CAAC0E,QAAQ,IAAI1E,KAAK,CAAC0E,QAAQ,CAACC,MAAM,EAAE;AACpD,MAAA,IAAIC,MAAM,GAAG5E,KAAK,CAAC0E,QAAQ,CAAA;MAC3B,IAAIG,MAAM,GAAG,EAAE,CAAA;AACf,MAAA,KAAK,IAAIC,KAAK,GAAG,CAAC,EAAEA,KAAK,GAAGF,MAAM,CAACD,MAAM,EAAEG,KAAK,EAAE,EAAE;AAClDD,QAAAA,MAAM,CAACE,IAAI,CAACH,MAAM,CAACI,GAAG,CAACF,KAAK,CAAC,GAAGF,MAAM,CAACK,KAAK,CAACH,KAAK,CAAC,CAAC,CAAA;AACtD,OAAA;AAEA,MAAA,IAAII,KAAK,GAAGC,CAAC,CAACN,MAAM,CAAC,CAACO,MAAM,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,GAAGC,CAAC,EAAE,CAAC,CAAC,CAAA;MAEhD,IAAI,CAACvE,KAAK,CAAE,CAAA,WAAA,EAAamE,KAAK,GAAG,IAAK,EAAC,CAAC,CAAA;MACxC,IAAI,CAACnE,KAAK,CAAE,CAAY,UAAA,EAAA,IAAI,CAACmB,cAAc,EAAG,CAAA,CAAC,CAAC,CAAA;AAChD,MAAA,IAAI,CAACnB,KAAK,CAAE,CAAA,iBAAA,EAAoBmE,KAAK,GAAGlF,KAAK,CAACiC,QAAQ,GAAI,GAAI,CAAA,CAAC,CAAC,CAAA;MAEhE,OAAO;AAAEsD,QAAAA,aAAa,EAAEL,KAAK,GAAGlF,KAAK,CAACiC,QAAAA;OAAU,CAAA;AAClD,KAAC,MAAM;AACL,MAAA,OAAO,CAAC,CAAA;AACV,KAAA;AACF,GAAA;AAMAC,EAAAA,cAAcA,GAAG;AACf,IAAA,IAAIlC,KAAK,GAAG,IAAI,CAAC2B,YAAY,CAAA;IAC7B,IAAI3B,KAAK,CAACiC,QAAQ,GAAG,SAAS,IAAI,IAAI,CAACuD,eAAe,EAAE;AACtD;AACA;AACA;;AAEA,MAAA,OAAOC,QAAQ,CAAA;AACjB,KAAA;AACA,IAAA,OAAOzF,KAAK,CAACiC,QAAQ,GAAG,IAAI,CAAA;AAC9B,GAAA;AAEAyD,EAAAA,gBAAgBA,GAAG;AACjB,IAAA,OAAO,IAAI,CAAC/D,YAAY,CAACuB,WAAW,GAAG,IAAI,CAAA;AAC7C,GAAA;EAEAyC,YAAYA,CAACjC,QAAQ,EAAE;AACrB,IAAA,IAAI,CAAC/B,YAAY,CAACuB,WAAW,GAAGQ,QAAQ,GAAG,IAAI,CAAA;AAC/C,IAAA,OAAO,IAAI,CAACgC,gBAAgB,EAAE,CAAA;AAChC,GAAA;EAEAE,UAAUA,CAACzC,MAAM,EAAE;AACjB,IAAA,IAAIzC,cAAc,CAACC,SAAS,EAAE,CAAC,EAAE;AAC/B,MAAA,IAAI,CAACI,KAAK,CAAE,CAAmCoC,iCAAAA,EAAAA,MAAO,EAAC,CAAC,CAAA;AAC1D,KAAC,MAAM;AACL,MAAA,IAAI,CAACpC,KAAK,CAAE,CAAcoC,YAAAA,EAAAA,MAAO,EAAC,CAAC,CAAA;AACnC,MAAA,IAAInD,KAAK,GAAG,IAAI,CAAC2B,YAAY,CAAA;AAC7B3B,MAAAA,KAAK,CAACmD,MAAM,GAAGA,MAAM,GAAG,GAAG,CAAA;AAC7B,KAAA;AACF,GAAA;;AAEA;AACA;AACA;;EAEA,IACIqC,eAAeA,GAAG;AACpB,IAAA,IAAIK,WAAW,GAAG,IAAI,CAACC,gBAAgB,CAACV,MAAM,CAC5C,CAACW,GAAG,EAAEC,GAAG,EAAElB,KAAK,EAAEmB,QAAQ,KAAK,CAC7B,GAAGF,GAAG,EACNjB,KAAK,KAAK,CAAC,GAAG,CAAC,GAAGmB,QAAQ,CAACnB,KAAK,CAAC,GAAGmB,QAAQ,CAACnB,KAAK,GAAG,CAAC,CAAC,CACxD,EACD,EACF,CAAC,CAAA;AACD,IAAA,OAAOe,WAAW,CAACK,MAAM,CAAEC,CAAC,IAAKA,CAAC,KAAK,CAAC,CAAC,CAACxB,MAAM,KAAKkB,WAAW,CAAClB,MAAM,CAAA;AACzE,GAAA;EAIA,CACCf,sBAAsBA,GAAG;AACxB,IAAA,IAAI5D,KAAK,GAAG,IAAI,CAAC2B,YAAY,CAAA;AAE7B,IAAA,IAAIjB,cAAc,CAACC,SAAS,EAAE,CAAC,EAAE;MAC/B,IAAI,CAACmF,gBAAgB,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAA;AACnC,KAAC,MAAM;MACL,OAAO,IAAI,CAACnC,SAAS,EAAE;AACrB,QAAA,IAAI1B,QAAQ,GAAGjC,KAAK,CAACiC,QAAQ,GAAG,IAAI,CAAA;AACpC,QAAA,IAAI,CAAC6D,gBAAgB,GAAG,IAAI,CAACA,gBAAgB,CAACM,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;AACzD,QAAA,IAAI,CAACN,gBAAgB,CAACf,IAAI,CAAC9C,QAAQ,CAAC,CAAA;QAEpC,MAAMoE,OAAO,CAAC,GAAG,CAAC,CAAA;AACpB,OAAA;AACF,KAAA;AACF,GAAA;AAEA,EAAA,CACCC,QAAQA,CAAC;AAAE5C,IAAAA,QAAAA;AAAS,GAAC,EAAE;IACtB,IAAI,CAAC6C,SAAS,GAAG,IAAI,CAAA;AACrB,IAAA,IAAIvG,KAAK,GAAG,IAAI,CAACK,cAAc,EAAE,CAAA;;AAEjC;AACA,IAAA,IAAI,CAACmG,SAAS,CAACxG,KAAK,CAAC,CAAA;IACrB,IAAI,CAACoD,YAAY,EAAE,CAAA;AAEnB,IAAA,IAAI,OAAOM,QAAQ,KAAK,WAAW,EAAE;AACnC,MAAA,IAAI,CAACiC,YAAY,CAACjC,QAAQ,CAAC,CAAA;AAC7B,KAAA;AAEA,IAAA,IAAI,CAAC3C,KAAK,CAAC,uBAAuB,CAAC,CAAA;IACnC,IAAI;MACF,MAAMf,KAAK,CAACyG,IAAI,EAAE,CAAC3C,KAAK,CAAE1C,CAAC,IAAK;AAC9B,QAAA,MAAMA,CAAC,CAAA;AACT,OAAC,CAAC,CAAA;KACH,CAAC,OAAOA,CAAC,EAAE;AACV,MAAA,IAAI,CAACU,aAAa,CAACV,CAAC,CAAC,CAAA;AACvB,KAAC,SAAS;MACR,IAAI,CAACmF,SAAS,GAAG,KAAK,CAAA;AACxB,KAAA;AACF,GAAA;EAEA,IAAIG,WAAWA,GAAG;AAChB,IAAA,OAAO,IAAI,CAACjG,UAAU,GAAG,CAAC,CAAA;AAC5B,GAAA;AAEAkG,EAAAA,KAAKA,GAAG;AACN,IAAA,IAAI,CAAC5F,KAAK,CAAE,CAAA,sCAAA,CAAuC,CAAC,CAAA;AACpD,IAAA,IAAI,CAACY,YAAY,CAACiF,eAAe,CAAC,aAAa,CAAC,CAAA;AAEhD,IAAA,IAAI,CAACnG,UAAU,GAAG,IAAI,CAACA,UAAU,GAAG,CAAC,CAAA;AACrC,IAAA,IAAI,CAACkB,YAAY,CAACrB,GAAG,GAAG,IAAI,CAACC,GAAG,CAAA;AAChC,IAAA,IAAI,CAACoB,YAAY,CAACX,IAAI,EAAE,CAAA;AAC1B,GAAA;AAEAyF,EAAAA,IAAIA,CAAC;AAAE/C,IAAAA,QAAAA;GAAU,GAAG,EAAE,EAAE;AACtB,IAAA,OAAO,IAAI,CAAC4C,QAAQ,CAACzC,OAAO,CAAC;AAAEH,MAAAA,QAAAA;AAAS,KAAC,CAAC,CAAA;AAC5C,GAAA;AAEAmD,EAAAA,KAAKA,GAAG;AACN,IAAA,IAAI,CAAC9F,KAAK,CAAC,QAAQ,CAAC,CAAA;AACpB,IAAA,IAAIf,KAAK,GAAG,IAAI,CAAC2B,YAAY,CAAA;IAE7B,IAAI,IAAI,CAAC2B,QAAQ,EAAE;AACjB,MAAA,IAAI,CAACY,IAAI,EAAE,CAAC;AACd,KAAC,MAAM;MACLlE,KAAK,CAAC6G,KAAK,EAAE,CAAA;AACf,KAAA;AACF,GAAA;AAEA3C,EAAAA,IAAIA,GAAG;AACL,IAAA,IAAI,CAACnD,KAAK,CAAC,OAAO,CAAC,CAAA;AACnB,IAAA,IAAIf,KAAK,GAAG,IAAI,CAAC2B,YAAY,CAAA;IAC7B3B,KAAK,CAAC6G,KAAK,EAAE,CAAA;;AAEb;AACA;AACA;AACA7G,IAAAA,KAAK,CAAC4G,eAAe,CAAC,KAAK,CAAC,CAAA;IAC5B5G,KAAK,CAACgB,IAAI,EAAE,CAAA;AACd,GAAA;EAEAwF,SAASA,CAACxG,KAAK,EAAE;IACf,IAAI,CAAC8G,oBAAoB,EAAE,CAAA;AAC3B,IAAA,IAAI,CAAC,IAAI,CAACrF,YAAY,CAACzB,KAAK,CAACM,GAAG,EAAE,IAAI,CAACC,GAAG,CAAC,EAAE;MAC3CP,KAAK,CAAC+C,YAAY,CAAC,KAAK,EAAE,IAAI,CAACxC,GAAG,CAAC,CAAA;MACnCP,KAAK,CAACgB,IAAI,EAAE,CAAA;AACd,KAAA;AACF,GAAA;AAEA8F,EAAAA,oBAAoBA,GAAG;AACrB;AACA;AACA;AACA;AACA;;IAEA,IAAI,IAAI,CAACxD,QAAQ,EAAE;AACjB,MAAA,IAAI+B,CAAC,GAAGxC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC,CAAA;AACnCuC,MAAAA,CAAC,CAAC0B,IAAI,GAAG,IAAI,CAACxG,GAAG,CAAA;MACjB8E,CAAC,CAAC2B,IAAI,GAAG,IAAIC,IAAI,EAAE,CAACC,OAAO,EAAE,CAAA;AAC7B,MAAA,IAAI,CAAC3G,GAAG,GAAG8E,CAAC,CAAC0B,IAAI,CAAA;AACnB,KAAA;AACF,GAAA;AAEAtF,EAAAA,YAAYA,CAAC0F,IAAI,EAAEC,IAAI,EAAE;AACvB;AACA;;AAEA,IAAA,IAAIC,OAAO,GAAGxE,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC,CAAA;AACzC,IAAA,IAAIwE,OAAO,GAAGzE,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC,CAAA;IACzCuE,OAAO,CAACN,IAAI,GAAGI,IAAI,CAAA;IACnBG,OAAO,CAACP,IAAI,GAAGK,IAAI,CAAA;AAEnB,IAAA,OAAOC,OAAO,CAACN,IAAI,KAAKO,OAAO,CAACP,IAAI,CAAA;AACtC,GAAA;AAEAQ,EAAAA,QAAQA,GAAG;AACT,IAAA,IAAIvH,KAAK,GAAG,IAAI,CAACK,cAAc,EAAE,CAAA;AACjC,IAAA,IAAI,CAACuD,sBAAsB,CAAC4D,SAAS,EAAE,CAAA;AACvC,IAAA,IAAI,CAACjE,OAAO,CAAC,eAAe,EAAE;AAAEC,MAAAA,KAAK,EAAE,IAAA;AAAK,KAAC,CAAC,CAAA;AAC9C,IAAA,IAAI,CAACjC,iBAAiB,CAACvB,KAAK,CAAC,CAAA;IAC7B,KAAK,CAACuH,QAAQ,EAAE,CAAA;AAClB,GAAA;AACF,CAAC,EAAA3H,eAAA,CAAAN,OAAA,EAAA,KAAA,EAndc,aAAa,CAAAA,EAAAA,OAAA,CAAAK,GAAAA,WAAA,GAAA8H,yBAAA,CAAApI,MAAA,CAAAqI,SAAA,uBARzBC,OAAO,CAAA,EAAA;EAAAC,YAAA,EAAA,IAAA;EAAAC,UAAA,EAAA,IAAA;EAAAC,QAAA,EAAA,IAAA;EAAAC,WAAA,EAAA,IAAA;AAAA,CAAA,CAAA,EAAAN,yBAAA,CAAApI,MAAA,CAAAqI,SAAA,EAAA,iBAAA,EAAA,CAiVPM,MAAM,CAAA,EAAAC,MAAA,CAAAC,wBAAA,CAAA7I,MAAA,CAAAqI,SAAA,EAAA,iBAAA,CAAA,EAAArI,MAAA,CAAAqI,SAAA,CAAA,EAAA7H,YAAA,GAAA4H,yBAAA,CAAApI,MAAA,CAAAqI,SAAA,EAAA,kBAAA,EAAA,CAYNC,OAAO,CAAA,EAAA;EAAAC,YAAA,EAAA,IAAA;EAAAC,UAAA,EAAA,IAAA;EAAAC,QAAA,EAAA,IAAA;AAAAC,EAAAA,WAAA,cAAA;AAAA,IAAA,OAAoB,EAAE,CAAA;AAAA,GAAA;AAAA,CAAA,CAAA,EAAAN,yBAAA,CAAApI,MAAA,CAAAqI,SAAA,EAAA,wBAAA,EAAA,CAAAzI,IAAA,CAAAgJ,EAAAA,MAAA,CAAAC,wBAAA,CAAA7I,MAAA,CAAAqI,SAAA,EAAArI,wBAAAA,CAAAA,EAAAA,MAAA,CAAAqI,SAAA,CAAA,EAAAD,yBAAA,CAAApI,MAAA,CAAAqI,SAAA,eAAAtI,KAAA,CAAA,EAAA6I,MAAA,CAAAC,wBAAA,CAAA7I,MAAA,CAAAqI,SAAA,EAAA,UAAA,CAAA,EAAArI,MAAA,CAAAqI,SAAA,IAAArI,MAAA,CAAA;;;;"}