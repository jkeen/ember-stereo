{"version":3,"file":"test-audio-url.js","sources":["../../../src/test-support/utils/test-audio-url.js"],"sourcesContent":["import StereoUrl from '../../-private/utils/stereo-url';\n\nexport default class TestAudioUrl {\n  constructor(testUrl) {\n    this.url = new StereoUrl(testUrl);\n\n    if (\n      this.url.pathname &&\n      this.url.pathname.startsWith('/') &&\n      this.url.pathname.length > 1\n    ) {\n      var [, result, lengthOrError, name] = this.url.pathname\n        .replace(/^\\/?tests\\//, '')\n        .split('/');\n      this.status = result;\n      this.lengthOrError = lengthOrError;\n      this.name = name;\n    }\n  }\n\n  get isTestUrl() {\n    return (\n      (this.status === 'good' || this.status === 'bad') &&\n      this.lengthOrError &&\n      this.name\n    );\n  }\n\n  get isSuccess() {\n    return this.status === 'good';\n  }\n\n  get isError() {\n    return this.status === 'bad';\n  }\n\n  get isValid() {\n    return this.isSuccess() || this.isError();\n  }\n\n  get isStream() {\n    return this.isSuccess && this.lengthOrError === 'stream';\n  }\n\n  get duration() {\n    if (this.isSuccess) {\n      if (this.isStream) {\n        return Infinity;\n      } else {\n        return parseInt(this.lengthOrError, 10) / 1000;\n      }\n    }\n\n    return NaN;\n  }\n\n  get error() {\n    if (this.isError) {\n      return this.lengthOrError;\n    }\n\n    return NaN;\n  }\n}\n"],"names":["TestAudioUrl","constructor","testUrl","url","StereoUrl","pathname","startsWith","length","result","lengthOrError","name","replace","split","status","isTestUrl","isSuccess","isError","isValid","isStream","duration","Infinity","parseInt","NaN","error"],"mappings":";;AAEe,MAAMA,YAAY,CAAC;EAChCC,WAAWA,CAACC,OAAO,EAAE;AACnB,IAAA,IAAI,CAACC,GAAG,GAAG,IAAIC,SAAS,CAACF,OAAO,CAAC,CAAA;IAEjC,IACE,IAAI,CAACC,GAAG,CAACE,QAAQ,IACjB,IAAI,CAACF,GAAG,CAACE,QAAQ,CAACC,UAAU,CAAC,GAAG,CAAC,IACjC,IAAI,CAACH,GAAG,CAACE,QAAQ,CAACE,MAAM,GAAG,CAAC,EAC5B;MACA,IAAI,GAAGC,MAAM,EAAEC,aAAa,EAAEC,IAAI,CAAC,GAAG,IAAI,CAACP,GAAG,CAACE,QAAQ,CACpDM,OAAO,CAAC,aAAa,EAAE,EAAE,CAAC,CAC1BC,KAAK,CAAC,GAAG,CAAC,CAAA;MACb,IAAI,CAACC,MAAM,GAAGL,MAAM,CAAA;MACpB,IAAI,CAACC,aAAa,GAAGA,aAAa,CAAA;MAClC,IAAI,CAACC,IAAI,GAAGA,IAAI,CAAA;AAClB,KAAA;AACF,GAAA;EAEA,IAAII,SAASA,GAAG;AACd,IAAA,OACE,CAAC,IAAI,CAACD,MAAM,KAAK,MAAM,IAAI,IAAI,CAACA,MAAM,KAAK,KAAK,KAChD,IAAI,CAACJ,aAAa,IAClB,IAAI,CAACC,IAAI,CAAA;AAEb,GAAA;EAEA,IAAIK,SAASA,GAAG;AACd,IAAA,OAAO,IAAI,CAACF,MAAM,KAAK,MAAM,CAAA;AAC/B,GAAA;EAEA,IAAIG,OAAOA,GAAG;AACZ,IAAA,OAAO,IAAI,CAACH,MAAM,KAAK,KAAK,CAAA;AAC9B,GAAA;EAEA,IAAII,OAAOA,GAAG;IACZ,OAAO,IAAI,CAACF,SAAS,EAAE,IAAI,IAAI,CAACC,OAAO,EAAE,CAAA;AAC3C,GAAA;EAEA,IAAIE,QAAQA,GAAG;IACb,OAAO,IAAI,CAACH,SAAS,IAAI,IAAI,CAACN,aAAa,KAAK,QAAQ,CAAA;AAC1D,GAAA;EAEA,IAAIU,QAAQA,GAAG;IACb,IAAI,IAAI,CAACJ,SAAS,EAAE;MAClB,IAAI,IAAI,CAACG,QAAQ,EAAE;AACjB,QAAA,OAAOE,QAAQ,CAAA;AACjB,OAAC,MAAM;QACL,OAAOC,QAAQ,CAAC,IAAI,CAACZ,aAAa,EAAE,EAAE,CAAC,GAAG,IAAI,CAAA;AAChD,OAAA;AACF,KAAA;AAEA,IAAA,OAAOa,GAAG,CAAA;AACZ,GAAA;EAEA,IAAIC,KAAKA,GAAG;IACV,IAAI,IAAI,CAACP,OAAO,EAAE;MAChB,OAAO,IAAI,CAACP,aAAa,CAAA;AAC3B,KAAA;AAEA,IAAA,OAAOa,GAAG,CAAA;AACZ,GAAA;AACF;;;;"}